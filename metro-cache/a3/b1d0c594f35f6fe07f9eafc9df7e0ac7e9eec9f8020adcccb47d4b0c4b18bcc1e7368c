{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/toConsumableArray","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/possibleConstructorReturn","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/getPrototypeOf","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/inherits","data":{"isAsync":false}},{"name":"react","data":{"isAsync":false}},{"name":"./../node_modules/react-transform-hmr/lib/index.js","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}},{"name":"./FilmItem","data":{"isAsync":false}},{"name":"../API/TMDBApi","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n\n  var _toConsumableArray2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/toConsumableArray\"));\n\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/classCallCheck\"));\n\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/createClass\"));\n\n  var _possibleConstructorReturn2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"@babel/runtime/helpers/possibleConstructorReturn\"));\n\n  var _getPrototypeOf2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[5], \"@babel/runtime/helpers/getPrototypeOf\"));\n\n  var _inherits2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[6], \"@babel/runtime/helpers/inherits\"));\n\n  var _react = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[7], \"react\"));\n\n  var _index = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[8], \"./../node_modules/react-transform-hmr/lib/index.js\"));\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[9], \"react-native\");\n\n  var _FilmItem = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[10], \"./FilmItem\"));\n\n  var _TMDBApi = _$$_REQUIRE(_dependencyMap[11], \"../API/TMDBApi\");\n\n  var _jsxFileName = \"/home/vayango/Documents/CodeTraining/reactnative/MoviesAndMe/components/Search.js\";\n  var _components = {\n    Search: {\n      displayName: \"Search\"\n    }\n  };\n\n  var _node_modulesReactTransformHmrLibIndexJs2 = (0, _index.default)({\n    filename: \"components/Search.js\",\n    components: _components,\n    locals: [module],\n    imports: [_react.default]\n  });\n\n  function _wrapComponent(id) {\n    return function (Component) {\n      return _node_modulesReactTransformHmrLibIndexJs2(Component, id);\n    };\n  }\n\n  var Search = function (_React$Component) {\n    (0, _inherits2.default)(Search, _React$Component);\n\n    function Search(props) {\n      var _this;\n\n      (0, _classCallCheck2.default)(this, Search);\n      _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(Search).call(this, props));\n      _this.searchedText = \"\";\n      _this.page = 0;\n      _this.totalPages = 0;\n      _this.state = {\n        films: [],\n        isLoading: false\n      };\n      return _this;\n    }\n\n    (0, _createClass2.default)(Search, [{\n      key: \"_loadFilms\",\n      value: function _loadFilms() {\n        var _this2 = this;\n\n        if (this.searchedText.length > 0) {\n          this.setState({\n            isLoading: true\n          });\n          (0, _TMDBApi.getFilmsFromApiWithSearchedText)(this.searchedText, this.page + 1).then(function (data) {\n            _this2.page = data.page;\n            _this2.totalPages = data.total_pages;\n\n            _this2.setState({\n              films: [].concat((0, _toConsumableArray2.default)(_this2.state.films), (0, _toConsumableArray2.default)(data.results)),\n              isLoading: false\n            });\n          });\n        }\n      }\n    }, {\n      key: \"_searchTextInputChanged\",\n      value: function _searchTextInputChanged(text) {\n        this.searchedText = text;\n      }\n    }, {\n      key: \"_displayLoading\",\n      value: function _displayLoading() {\n        if (this.state.isLoading) {\n          return _react.default.createElement(_reactNative.View, {\n            style: styles.loading_container,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 39\n            }\n          }, _react.default.createElement(_reactNative.ActivityIndicator, {\n            size: \"large\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 41\n            }\n          }));\n        }\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this3 = this;\n\n        return _react.default.createElement(_reactNative.View, {\n          style: styles.main_container,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          }\n        }, _react.default.createElement(_reactNative.TextInput, {\n          placeholder: \"Titre du film\",\n          style: styles.textinput,\n          onChangeText: function onChangeText(text) {\n            return _this3._searchTextInputChanged(text);\n          },\n          onSubmitEditing: function onSubmitEditing() {\n            return _this3._loadFilms();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          }\n        }), _react.default.createElement(_reactNative.Button, {\n          title: \"Rechercher\",\n          onPress: function onPress() {\n            return _this3._loadFilms();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          }\n        }), _react.default.createElement(_reactNative.FlatList, {\n          data: this.state.films,\n          keyExtractor: function keyExtractor(item) {\n            return item.id.toString();\n          },\n          renderItem: function renderItem(_ref) {\n            var item = _ref.item;\n            return _react.default.createElement(_FilmItem.default, {\n              film: item,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 65\n              }\n            });\n          },\n          onEndReachedThreshold: 0.5,\n          onEndReached: function onEndReached() {\n            if (_this3.page < _this3.totalPages) {\n              _this3._loadFilms();\n            }\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          }\n        }), this._displayLoading());\n      }\n    }]);\n    return Search;\n  }(_react.default.Component);\n\n  Search = _wrapComponent(\"Search\")(Search);\n\n  var styles = _reactNative.StyleSheet.create({\n    main_container: {\n      flex: 1,\n      marginTop: 30\n    },\n    textinput: {\n      marginLeft: 5,\n      marginRight: 5,\n      height: 50,\n      borderColor: '#000000',\n      borderWidth: 1,\n      paddingLeft: 5\n    },\n    loading_container: {\n      position: 'absolute',\n      left: 0,\n      right: 0,\n      top: 100,\n      bottom: 0,\n      alignItems: 'center',\n      justifyContent: 'center'\n    }\n  });\n\n  var _default2 = Search;\n  exports.default = _default2;\n});","map":[[21,0,1,0],[25,0,2,0],[27,0,3,0],[29,0,4,0],[51,6,6,6,"Search"],[51,12],[54,0,8,4],[54,20,8,16,"props"],[54,25,8,4],[54,27,8,23],[55,0,8,23],[57,0,8,23],[58,0,9,8],[58,110,9,14,"props"],[58,115,9,8],[59,0,10,8],[59,12,10,13,"searchedText"],[59,24,10,8],[59,27,10,28],[59,29,10,8],[60,0,11,8],[60,12,11,13,"page"],[60,16,11,8],[60,19,11,20],[60,20,11,8],[61,0,12,8],[61,12,12,13,"totalPages"],[61,22,12,8],[61,25,12,26],[61,26,12,8],[62,0,13,8],[62,12,13,13,"state"],[62,17,13,8],[62,20,13,21],[63,0,14,12,"films"],[63,8,14,12,"films"],[63,13,14,17],[63,15,14,19],[63,17,13,21],[64,0,15,12,"isLoading"],[64,8,15,12,"isLoading"],[64,17,15,21],[64,19,15,23],[65,0,13,21],[65,7,13,8],[66,0,8,23],[67,0,17,5],[71,35,19,17],[72,0,19,17],[74,0,20,8],[74,12,20,12],[74,17,20,17,"searchedText"],[74,29,20,12],[74,30,20,30,"length"],[74,36,20,12],[74,39,20,39],[74,40,20,8],[74,42,20,42],[75,0,21,12],[75,15,21,17,"setState"],[75,23,21,12],[75,24,21,26],[76,0,21,27,"isLoading"],[76,12,21,27,"isLoading"],[76,21,21,36],[76,23,21,38],[77,0,21,26],[77,11,21,12],[78,0,22,12],[78,56,22,44],[78,61,22,49,"searchedText"],[78,73,22,12],[78,75,22,63],[78,80,22,68,"page"],[78,84,22,63],[78,87,22,73],[78,88,22,12],[78,90,22,76,"then"],[78,94,22,12],[78,95,22,81],[78,105,22,81,"data"],[78,109,22,85],[78,111,22,89],[79,0,23,16],[79,12,23,16],[79,18,23,20],[79,19,23,21,"page"],[79,23,23,16],[79,26,23,28,"data"],[79,30,23,32],[79,31,23,33,"page"],[79,35,23,16],[80,0,24,16],[80,12,24,16],[80,18,24,20],[80,19,24,21,"totalPages"],[80,29,24,16],[80,32,24,34,"data"],[80,36,24,38],[80,37,24,39,"total_pages"],[80,48,24,16],[82,0,25,16],[82,12,25,16],[82,18,25,20],[82,19,25,21,"setState"],[82,27,25,16],[82,28,25,30],[83,0,26,20,"films"],[83,14,26,20,"films"],[83,19,26,25],[83,64,26,31],[83,70,26,35],[83,71,26,36,"state"],[83,76,26,31],[83,77,26,42,"films"],[83,82,26,25],[83,118,26,52,"data"],[83,122,26,56],[83,123,26,57,"results"],[83,130,26,25],[83,132,25,30],[84,0,27,20,"isLoading"],[84,14,27,20,"isLoading"],[84,23,27,29],[84,25,27,31],[85,0,25,30],[85,13,25,16],[86,0,28,13],[86,11,22,12],[87,0,29,9],[88,0,30,5],[91,46,32,28,"text"],[91,50],[91,52,32,34],[92,0,33,8],[92,13,33,13,"searchedText"],[92,25,33,8],[92,28,33,28,"text"],[92,32,33,8],[93,0,34,5],[96,40,36,22],[97,0,37,8],[97,12,37,12],[97,17,37,17,"state"],[97,22,37,12],[97,23,37,23,"isLoading"],[97,32,37,8],[97,34,37,34],[98,0,38,12],[98,17,39,16],[98,46,39,17],[98,63,39,16],[99,0,40,20],[99,12,40,20],[99,17,40,25],[99,19,40,27,"styles"],[99,25,40,33],[99,26,40,34,"loading_container"],[99,43,39,16],[100,0,39,16],[101,0,39,16],[102,0,39,16],[103,0,39,16],[104,0,39,16],[104,13,41,24],[104,42,41,25],[104,72,41,24],[105,0,42,28],[105,12,42,28],[105,16,42,32],[105,18,42,33],[105,25,41,24],[106,0,41,24],[107,0,41,24],[108,0,41,24],[109,0,41,24],[110,0,41,24],[110,12,39,16],[110,13,38,12],[111,0,46,9],[112,0,47,5],[115,31,48,13],[116,0,48,13],[118,0,49,8],[118,15,50,12],[118,44,50,13],[118,61,50,12],[119,0,51,16],[119,10,51,16],[119,15,51,21],[119,17,51,23,"styles"],[119,23,51,29],[119,24,51,30,"main_container"],[119,38,50,12],[120,0,50,12],[121,0,50,12],[122,0,50,12],[123,0,50,12],[124,0,50,12],[124,11,52,16],[124,40,52,17],[124,62,52,16],[125,0,53,20],[125,10,53,20],[125,21,53,31],[125,23,53,32],[125,38,52,16],[126,0,54,20],[126,10,54,20],[126,15,54,25],[126,17,54,27,"styles"],[126,23,54,33],[126,24,54,34,"textinput"],[126,33,52,16],[127,0,55,20],[127,10,55,20],[127,22,55,32],[127,24,55,34],[127,46,55,35,"text"],[127,50,55,34],[128,0,55,34],[128,19,55,44],[128,25,55,48],[128,26,55,49,"_searchTextInputChanged"],[128,49,55,44],[128,50,55,73,"text"],[128,54,55,44],[128,55,55,34],[129,0,55,34],[129,11,52,16],[130,0,56,20],[130,10,56,20],[130,25,56,35],[130,27,56,37],[131,0,56,37],[131,19,56,43],[131,25,56,47],[131,26,56,48,"_loadFilms"],[131,36,56,43],[131,38,56,37],[132,0,56,37],[132,11,52,16],[133,0,52,16],[134,0,52,16],[135,0,52,16],[136,0,52,16],[137,0,52,16],[137,10,50,12],[137,12,58,16],[137,41,58,17],[137,60,58,16],[138,0,59,20],[138,10,59,20],[138,15,59,25],[138,17,59,26],[138,29,58,16],[139,0,60,20],[139,10,60,20],[139,17,60,27],[139,19,60,29],[140,0,60,29],[140,19,60,35],[140,25,60,39],[140,26,60,40,"_loadFilms"],[140,36,60,35],[140,38,60,29],[141,0,60,29],[141,11,58,16],[142,0,58,16],[143,0,58,16],[144,0,58,16],[145,0,58,16],[146,0,58,16],[146,10,50,12],[146,12,62,16],[146,41,62,17],[146,62,62,16],[147,0,63,20],[147,10,63,20],[147,14,63,24],[147,16,63,26],[147,21,63,31,"state"],[147,26,63,26],[147,27,63,37,"films"],[147,32,62,16],[148,0,64,20],[148,10,64,20],[148,22,64,32],[148,24,64,34],[148,46,64,35,"item"],[148,50,64,34],[149,0,64,34],[149,19,64,44,"item"],[149,23,64,48],[149,24,64,49,"id"],[149,26,64,44],[149,27,64,52,"toString"],[149,35,64,44],[149,37,64,34],[150,0,64,34],[150,11,62,16],[151,0,65,20],[151,10,65,20],[151,20,65,30],[151,22,65,32],[152,0,65,32],[152,16,65,35,"item"],[152,20,65,32],[152,28,65,35,"item"],[152,32,65,32],[153,0,65,32],[153,19,65,46],[153,48,65,47],[153,65,65,46],[154,0,65,56],[154,14,65,56],[154,18,65,60],[154,20,65,62,"item"],[154,24,65,46],[155,0,65,46],[156,0,65,46],[157,0,65,46],[158,0,65,46],[159,0,65,46],[159,14,65,32],[160,0,65,32],[160,11,62,16],[161,0,66,20],[161,10,66,20],[161,31,66,41],[161,33,66,43],[161,36,62,16],[162,0,67,20],[162,10,67,20],[162,22,67,32],[162,24,67,34],[162,48,67,40],[163,0,68,24],[163,16,68,28],[163,22,68,32],[163,23,68,33,"page"],[163,27,68,28],[163,30,68,40],[163,36,68,44],[163,37,68,45,"totalPages"],[163,47,68,24],[163,49,68,57],[164,0,69,28],[164,14,69,28],[164,20,69,32],[164,21,69,33,"_loadFilms"],[164,31,69,28],[165,0,70,25],[166,0,71,21],[166,11,62,16],[167,0,62,16],[168,0,62,16],[169,0,62,16],[170,0,62,16],[171,0,62,16],[171,10,50,12],[171,12,73,17],[171,17,73,22,"_displayLoading"],[171,32,73,17],[171,34,50,12],[171,35,49,8],[172,0,76,5],[175,4,6,21,"React"],[175,19,6,27,"Component"],[175,28],[179,0,79,0],[179,6,79,6,"styles"],[179,12,79,12],[179,15,79,15,"StyleSheet"],[179,39,79,26,"create"],[179,45,79,15],[179,46,79,33],[180,0,80,4,"main_container"],[180,4,80,4,"main_container"],[180,18,80,18],[180,20,80,20],[181,0,81,8,"flex"],[181,6,81,8,"flex"],[181,10,81,12],[181,12,81,14],[181,13,80,20],[182,0,82,8,"marginTop"],[182,6,82,8,"marginTop"],[182,15,82,17],[182,17,82,19],[183,0,80,20],[183,5,79,33],[184,0,84,4,"textinput"],[184,4,84,4,"textinput"],[184,13,84,13],[184,15,84,15],[185,0,85,8,"marginLeft"],[185,6,85,8,"marginLeft"],[185,16,85,18],[185,18,85,20],[185,19,84,15],[186,0,86,8,"marginRight"],[186,6,86,8,"marginRight"],[186,17,86,19],[186,19,86,21],[186,20,84,15],[187,0,87,8,"height"],[187,6,87,8,"height"],[187,12,87,14],[187,14,87,16],[187,16,84,15],[188,0,88,8,"borderColor"],[188,6,88,8,"borderColor"],[188,17,88,19],[188,19,88,21],[188,28,84,15],[189,0,89,8,"borderWidth"],[189,6,89,8,"borderWidth"],[189,17,89,19],[189,19,89,21],[189,20,84,15],[190,0,90,8,"paddingLeft"],[190,6,90,8,"paddingLeft"],[190,17,90,19],[190,19,90,21],[191,0,84,15],[191,5,79,33],[192,0,92,4,"loading_container"],[192,4,92,4,"loading_container"],[192,21,92,21],[192,23,92,23],[193,0,93,8,"position"],[193,6,93,8,"position"],[193,14,93,16],[193,16,93,18],[193,26,92,23],[194,0,94,8,"left"],[194,6,94,8,"left"],[194,10,94,12],[194,12,94,14],[194,13,92,23],[195,0,95,8,"right"],[195,6,95,8,"right"],[195,11,95,13],[195,13,95,15],[195,14,92,23],[196,0,96,8,"top"],[196,6,96,8,"top"],[196,9,96,11],[196,11,96,13],[196,14,92,23],[197,0,97,8,"bottom"],[197,6,97,8,"bottom"],[197,12,97,14],[197,14,97,16],[197,15,92,23],[198,0,98,8,"alignItems"],[198,6,98,8,"alignItems"],[198,16,98,18],[198,18,98,20],[198,26,92,23],[199,0,99,8,"justifyContent"],[199,6,99,8,"justifyContent"],[199,20,99,22],[199,22,99,24],[200,0,92,23],[201,0,79,33],[201,3,79,15],[201,4,79,0],[203,18,103,15,"Search"],[203,24]]},"type":"js/module"}]}